[comment encoding = UTF-8 /]
[module generateType('http://www.eclipse.org/emf/2002/Ecore')/]

[import soft::generator::go::generateType/]
[import soft::generator::common::generateCommon/]

[template public generateParameterListNames(aOperation : EOperation) post(trim())]
[for (sParameter : EParameter | aOperation.eParameters) separator (', ')][sParameter.getParameterType() /][/for]
[/template]

[query private getParameterType(sParameter : EParameter) : String =
	let aPackage : EPackage = sParameter.eOperation.eContainingClass.ePackage in
	if (sParameter.eGenericType.eRawType.name = 'EEList')
    then if not aPackage.isEcorePackage() then 'ecore.' else '' endif + 'NewEmptyBasicEList()'
    else sParameter.eType.getUnitTestValue()
    endif
/]

[query public getUnitTestType(aStructuralFeature : EStructuralFeature) : String =
	let aPackage : EPackage = aStructuralFeature.eContainingClass.ePackage in
	if aStructuralFeature.isListType() then
		if not aPackage.isEcorePackage() then 'ecore.' else '' endif + 'NewEmptyBasicEList()'
	 else aStructuralFeature.eType.getUnitTestValue() endif
/]
